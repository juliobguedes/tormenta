{"version":3,"sources":["../../src/lib/db.js"],"names":["dotenv","config","MONGO_URL","process","env","ERROR_CORE","db","mongoose","createConnection","useCreateIndex","useFindAndModify","useNewUrlParser","useUnifiedTopology","on","error","name","fp","sp","console","log","exit","ERROR_CODE","once"],"mappings":";;;;;;;;;AAAA;;AACA;;AACAA,mBAAOC,MAAP;;IAEQC,S,GAAcC,OAAO,CAACC,G,CAAtBF,S;AACR,IAAMG,UAAU,GAAG,CAAnB;;AAEA,IAAMC,EAAE,GAAGC,qBAASC,gBAAT,CAA0BN,SAA1B,EAAqC;AAC5CO,EAAAA,cAAc,EAAE,IAD4B;AAE5CC,EAAAA,gBAAgB,EAAE,KAF0B;AAG5CC,EAAAA,eAAe,EAAE,IAH2B;AAI5CC,EAAAA,kBAAkB,EAAE;AAJwB,CAArC,CAAX;;AAOAN,EAAE,CAACO,EAAH,CAAM,OAAN,EAAe,UAAAC,KAAK,EAAI;AACpB,MAAIA,KAAK,CAACC,IAAN,KAAe,mBAAnB,EAAwC;AACpC,QAAMC,EAAE,GAAG,sCAAX;AACA,QAAMC,EAAE,GAAG,mGAAX;AACAC,IAAAA,OAAO,CAACC,GAAR,WAAeH,EAAf,eAAsBC,EAAtB;AACH;;AAAA;AACDd,EAAAA,OAAO,CAACiB,IAAR,CAAaC,UAAb;AACH,CAPD;AASAf,EAAE,CAACgB,IAAH,CAAQ,MAAR,EAAgB,YAAM;AAClBJ,EAAAA,OAAO,CAACC,GAAR,CAAY,oCAAZ;AACH,CAFD;eAIeb,E","sourcesContent":["import mongoose from 'mongoose';\nimport dotenv from 'dotenv';\ndotenv.config();\n\nconst { MONGO_URL } = process.env;\nconst ERROR_CORE = 1;\n\nconst db = mongoose.createConnection(MONGO_URL, {\n    useCreateIndex: true,\n    useFindAndModify: false,\n    useNewUrlParser: true,\n    useUnifiedTopology: true,\n});\n\ndb.on('error', error => {\n    if (error.name === 'MongoNetworkError') {\n        const fp = 'Not properly connected with MongoDB.';\n        const sp = 'Check if your .env file is correctly filled and if you have the necessary permissions in MongoDB.';\n        console.log(`${fp}\\n${sp}`);\n    };\n    process.exit(ERROR_CODE);\n});\n\ndb.once('open', () => {\n    console.log('Connection opened with Mongo Atlas');\n});\n\nexport default db;\n"],"file":"db.js"}